description = "Analyze exception handling patterns and application resilience"
prompt = """
First, activate the 'workspace-tools' skill to ensure you have the correct tool mappings for this environment.

Using the exception-handling-master skill, prepare an exception handling review report. Analyze exception handling patterns, error recovery mechanisms, and application resilience in the codebase and create a comprehensive plan WITHOUT making any changes.

## Tool Configuration

**IMPORTANT**: Consult the workspace-tools skill for your organization's configured tools.
Use ONLY the tools listed in the Active Configuration section of workspace-tools.
If a capability is not configured, inform the user and continue with available capabilities.

## Input Parsing
The user invoked: /exception-review {{args}}

Valid scopes:
- **No argument**: Analyze the entire project
- **File/directory path**: Scope analysis to that specific path
- **"current changes"**: Analyze uncommitted changes (use source_control `status` and `diff_uncommitted` capabilities)
- **"recent changes"**: Analyze recent commits (use source_control `log` capability)
- **Change request reference**: Analyze a specific PR/CL (use change_requests `view` and `diff` capabilities)

## Your Task
1. First, understand the codebase and identify exception handling patterns
2. Analyze error recovery mechanisms and resilience architecture
3. Create a prioritized exception handling improvement plan
4. Save your plan as a markdown file in the /reports directory

## Analysis Focus Areas

**Exception Handling Patterns:**
- Try-catch block coverage and appropriateness
- Custom error types and error hierarchies
- Error propagation strategies
- Exception logging and monitoring

**Error Recovery Mechanisms:**
- Retry logic implementation
- Exponential backoff strategies
- Circuit breaker patterns
- Fallback and graceful degradation

**Resilience Architecture:**
- Error boundaries (React/UI frameworks)
- Bulkhead isolation patterns
- Timeout and deadline handling
- Health checks and readiness probes

**Input Validation & Edge Cases:**
- Parameter validation strategies
- Null/undefined handling
- Boundary condition checks
- Resource availability validation

## Output Format
Create a markdown file at `/reports/exception-review-{scope}-{timestamp}.md` with:

```markdown
# Exception Handling Review Report
Generated: {timestamp}
Scope: {scope_description}

## Executive Summary
- Overall resilience score
- Critical findings count
- High-impact recommendations

## Exception Handling Findings

### Critical Issues
- Unhandled exceptions that could crash the application
- Missing error boundaries in critical paths
- Resource leaks in error conditions

### High Priority
- Inconsistent error handling patterns
- Missing retry logic for transient failures
- Inadequate logging for debugging

### Medium Priority
- Generic catch-all exception handlers
- Missing timeout handling
- Insufficient input validation

## Current State Analysis

### Strengths
- Well-implemented patterns found
- Good practices already in use

### Weaknesses
- Vulnerable code paths
- Missing resilience patterns
- Error handling gaps

## Improvement Plan

### Phase 1: Critical Fixes
- Immediate actions to prevent application crashes
- Essential error boundaries and fallbacks

### Phase 2: Resilience Enhancement
- Implement retry logic and circuit breakers
- Add comprehensive input validation

### Phase 3: Monitoring & Observability
- Enhanced error logging and monitoring
- Error rate tracking and alerting

## Recommendations
- Recommended exception handling strategies
- Resilience patterns to implement
- Tools and libraries for error handling
```

Remember: DO NOT make any changes. Only analyze and report.

## CRITICAL: Report Generation

**YOU MUST CREATE THE REPORT FILE.** This is not optional.

1. Create the report file using the Write tool
2. Fill in ALL sections with real findings
3. Provide the full path to the user when done
"""
