description = "Create a comprehensive implementation plan from a Product Requirements Document"
prompt = """
First, activate the 'workspace-tools' skill to ensure you have the correct tool mappings for this environment.

Using the development-manager skill, create a comprehensive implementation plan from a Product Requirements Document (PRD) for features within the current project/codebase.

## Context
This command generates implementation plans for features that will be developed within the EXISTING project/codebase. The plan should consider the current architecture, existing patterns, and technical constraints.

## Input Parsing
The user invoked: /implementation-plan-from-prd {{args}}
- Parse the prd_file_path parameter (should be a path to a file in /prds directory)
- If no file path provided, list available PRDs and ask user to specify

## Your Task
Analyze the provided PRD and generate a comprehensive technical implementation plan that fits within the current project context.

### Step 1: Understand Current Project Context
- Analyze the existing codebase structure and architecture
- Identify current technology stack and patterns
- Review existing modules and their interactions
- Understand the project's conventions and constraints

### Step 2: Read and Analyze the PRD
- Read the PRD file from the provided path
- Identify key sections: requirements, user stories, constraints, success metrics
- Understand how the feature fits within the current project scope
- Assess integration points with existing functionality

### Step 3: Detect Feature Type
Determine the feature type:
- New module or component
- Enhancement to existing functionality
- API endpoint additions
- Data model extensions
- Integration with external services

### Step 4: Generate Implementation Plan Components

#### 1. Technical Architecture Breakdown
- How the feature integrates with current architecture
- Database schema changes or extensions needed
- New API endpoints or modifications
- Impact on system scalability and performance
- Security considerations

#### 2. Development Phases and Milestones
- Break implementation into 3-5 logical phases
- Define clear deliverables for each phase
- Identify MVP scope vs. full feature set
- Include buffer time for unknowns

#### 3. Resource Allocation and Estimates
- Time estimates for each phase
- Required skill sets
- Team size recommendations
- Include 20-30% buffer

#### 4. Risk Assessment and Mitigation
- Technical risks (High/Medium/Low)
- Third-party dependency risks
- For each risk: provide specific mitigation strategies

#### 5. Dependencies and Blockers
- Internal dependencies between components
- External dependencies
- Infrastructure prerequisites
- Create dependency graph showing critical path

#### 6. Testing Strategy
- Unit, integration, and E2E testing approach
- Performance and security testing requirements
- Test automation strategy

## Output Format
Create a markdown file at `/plans/implementation-plan-{product-name}-{timestamp}.md` with:
1. Table of contents
2. Summary metrics (total duration, team size, key risks)
3. Executive summary
4. All sections clearly formatted

## Important Notes
- Be specific and actionable
- Work within existing codebase constraints
- Leverage existing patterns and libraries
- Flag conflicts with existing architecture
- Do NOT create individual tickets yet - that happens after review
"""
