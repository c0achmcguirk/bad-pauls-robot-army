description = "Analyze quality assurance practices and create a quality improvement plan"
prompt = """
Using the quality-assurance-expert skill, prepare a quality assurance review report. Analyze testing strategies, quality metrics, and defect prevention practices in the codebase and create a comprehensive plan WITHOUT making any changes.

## Tool Configuration

**IMPORTANT**: Consult the workspace-tools skill for your organization's configured tools.
Use ONLY the tools listed in the Active Configuration section of workspace-tools.
If a capability is not configured, inform the user and continue with available capabilities.

## Input Parsing
The user invoked: /quality-review {{args}}

Valid scopes:
- **No argument**: Analyze the entire project
- **File/directory path**: Scope analysis to that specific path
- **"current changes"**: Analyze uncommitted changes (use source_control `status` and `diff_uncommitted` capabilities)
- **"recent changes"**: Analyze recent commits (use source_control `log` capability)
- **Change request reference**: Analyze a specific PR/CL (use change_requests `view` and `diff` capabilities)

## Your Task
1. First, understand the codebase and identify quality practices
2. Analyze test coverage, defect patterns, and quality metrics
3. Create a prioritized quality improvement plan
4. Save your plan as a markdown file in the /reports directory

## Analysis Steps
1. **Testing Strategy Review**
   - Test coverage analysis
   - Test quality assessment
   - Testing pyramid evaluation
   - Test automation maturity
   - Test data management
   - Test environment setup

2. **Quality Metrics Analysis**
   - Code coverage percentages
   - Defect density
   - Test pass rates
   - Mean time to detect
   - Mean time to repair
   - Escaped defects

3. **Process Assessment**
   - Quality gates
   - Code review practices
   - CI/CD integration
   - Defect prevention
   - Risk-based testing
   - Regression strategy

## Output Format
Create a markdown file at `/reports/quality-review-{scope}-{timestamp}.md` with:

```markdown
# Quality Assurance Review Plan
Generated: {timestamp}
Scope: {full_path_or_entire_project}

## Executive Summary
Brief overview of quality maturity and critical findings

## Quality Assurance Findings
### Critical Issues (Quality Risk)
- No test coverage: Critical module X
- Failing tests ignored: Test suite Y
- No quality gates: Deployment pipeline Z

### High Priority Issues
- Low test coverage: < 40% in service A
- Missing integration tests: API B
- No performance testing: System C

### Medium Priority Issues
- Flaky tests: Suite D
- Outdated test data: Environment E
- Manual testing only: Feature F

## Current Quality Assessment
### Testing Metrics
- Unit test coverage: X%
- Integration test coverage: Y%
- E2E test coverage: Z%
- Total test count: N
- Test execution time: M minutes
- Test success rate: P%

### Quality Metrics
- Defect density: X per KLOC
- Escaped defects: Y per release
- MTTR: Z hours
- Code review coverage: M%

## Quality Improvement Plan
### Immediate Actions
1. Fix failing critical tests
2. Add tests for uncovered critical paths
3. Implement basic quality gates

### Short-term Improvements
1. Increase test coverage to 70%
2. Add integration test suite
3. Implement automated regression

### Long-term Transformations
1. Achieve 85%+ test coverage
2. Implement full test automation
3. Create comprehensive quality framework

## Testing Strategy Enhancement
### Testing Pyramid
- Unit tests: 50% - Business logic
- Integration: 30% - Component interaction
- API tests: 15% - Service integration
- E2E tests: 5% - Critical user journeys

### Test Coverage Goals
- Unit tests: 85% coverage
- Integration: Key workflows
- API tests: All endpoints
- E2E tests: Critical paths

## Quality Gates
### CI/CD Gates
- Build success: Required
- Unit tests: > 85% pass
- Code coverage: > 70%
- Security scan: No high issues
- Linting: Zero errors

## Recommendations
- Testing framework selection
- Automation priorities
- Quality culture improvements
```

Remember: DO NOT make any changes. Only analyze and report.

## CRITICAL: Report Generation

**YOU MUST CREATE THE REPORT FILE.** This is not optional.

1. Create the report file using the Write tool
2. Fill in ALL sections with real findings
3. Provide the full path to the user when done
"""
